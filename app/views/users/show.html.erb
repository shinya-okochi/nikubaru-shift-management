<div class="container-fluid p-3">
  <div class="row no-gutters">
    <div class="col-md">
      <div class="card mr-2">
        <h1 class="ml-2 mt-1>">News</h1>
        <a class="btn btn-dark" href="/news/new" role="button">投稿</a>
        <ul class="list-group list-group-flush p-1">
          
        </ul>
      </div>
    </div>
    <div class="col-md">
      <div class="card ml-2">
        <h1 class="ml-2 mt-1">Shift</h1>
        <a class="btn btn-dark" href="/hope_shifts/new" role="button">シフトを提出</a>
        <div class="ml-2 mr-2 mb-2" id="calendar"></div>
        <div id="calendar"></div>
        
      </div>
    </div>
  </div>
</div>

<script>
  $(function () {
    // 画面遷移を検知
    $(document).on('turbolinks:load', function () {
        // lengthを呼び出すことで、#calendarが存在していた場合はtrueの処理がされ、無い場合はnillを返す
        if ($('#calendar').length) {
            function eventCalendar() {
                return $('#calendar').fullCalendar({
                });
            };
            function clearCalendar() {
                $('#calendar').html('');
            };

            $(document).on('turbolinks:load', function () {
                eventCalendar();
            });
            $(document).on('turbolinks:before-cache', clearCalendar);

            $('#calendar').fullCalendar({
                events: 'callback.json'
            });
        }
    });
});


</script>
